# ูุธุงู ุงูุฅุดุนุงุฑุงุช - ููุชูู โ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทุจูู ูุธุงู ุฅุดุนุงุฑุงุช ุดุงูู ูู ุงููุฌูุฉ ุงูุนูููุฉ ูุบุทู ุฌููุน ุงูุฃุญุฏุงุซ ุงููููุฉ ูู ุฏูุฑุฉ ุญูุงุฉ ุงูุจุญุซ ุงูุนููู.

---

## ๐ ุฌุฏูู ุงูุฅุดุนุงุฑุงุช ุงููุทุจูุฉ

| ุงูุญุฏุซ | ุงููุณุชูููู | ุนููุงู ุงูุฅุดุนุงุฑ | ุงูุญุงูุฉ |
|------|-----------|---------------|--------|
| **ุฅุฑุณุงู ุจุญุซ** | ูุญุฑุฑ + ุฃุฏูู | "ุจุญุซ ุฌุฏูุฏ ุชู ุฅุฑุณุงูู" | โ ูุทุจู |
| **ุชุนููู ูุญูู** | ูุญูู | "ุชู ุชุนูููู ููุญูู" | โ ูุทุจู |
| **ุฅุฑุณุงู ุชูููู** | ุจุงุญุซ + ูุญุฑุฑ + ุฃุฏูู | "ุชู ุงุณุชูุงู ุชูููู ุฌุฏูุฏ" | โ ูุทุจู |
| **ุทูุจ ุชุนุฏููุงุช** | ุจุงุญุซ | "ูุทููุจ ุชุนุฏููุงุช ุนูู ุจุญุซู" | โ ูุทุจู |
| **ุฅุฑุณุงู ุชุนุฏููุงุช** | ูุญูู + ูุญุฑุฑ + ุฃุฏูู | "ุชู ุฅุฑุณุงู ูุณุฎุฉ ูุนุฏูุฉ" | โ ูุทุจู |
| **ูุจูู ุจุญุซ** | ุจุงุญุซ | "๐ ุชู ูุจูู ุจุญุซู!" | โ ูุทุจู |
| **ุฑูุถ ุจุญุซ** | ุจุงุญุซ | "ูุฑุงุฑ ุจุฎุตูุต ุจุญุซู" | โ ูุทุจู |
| **ูุดุฑ ุจุญุซ** | ุจุงุญุซ | "๐ ุชู ูุดุฑ ุจุญุซู!" | โ ูุทุจู |

---

## ๐ง ุงูุชุทุจูู ุงูุชููู

### 1๏ธโฃ Backend (NestJS)

#### ุงููููุงุช ุงููุนุฏูุฉ:

**`notifications.service.ts`** - ูุญุชูู ุนูู ุฌููุน ุฏูุงู ุงูุฅุดุนุงุฑุงุช:
- โ `notifyResearchSubmitted()` - ุฅุดุนุงุฑ ุฅุฑุณุงู ุจุญุซ
- โ `notifyReviewerAssigned()` - ุฅุดุนุงุฑ ุชุนููู ูุญูู
- โ `notifyReviewSubmitted()` - ุฅุดุนุงุฑ ุฅุฑุณุงู ุชูููู
- โ `notifyRevisionRequested()` - ุฅุดุนุงุฑ ุทูุจ ุชุนุฏููุงุช
- โ `notifyRevisionSubmitted()` - ุฅุดุนุงุฑ ุฅุฑุณุงู ุชุนุฏููุงุช
- โ `notifyResearchAccepted()` - ุฅุดุนุงุฑ ูุจูู ุจุญุซ
- โ `notifyResearchRejected()` - ุฅุดุนุงุฑ ุฑูุถ ุจุญุซ
- โ `notifyResearchPublished()` - ุฅุดุนุงุฑ ูุดุฑ ุจุญุซ

#### ุงูุชูุงูู ูุน Modules:

**1. Research Module** (`research.service.ts`)
```typescript
// ุนูุฏ ุฅุฑุณุงู ุจุญุซ ุฌุฏูุฏ
async create() {
  // ... save research
  await this.notificationsService.notifyResearchSubmitted(
    savedResearch.id,
    savedResearch.title,
    savedResearch.user_id
  );
}

// ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุจุญุซ
async updateStatus(id, status) {
  // ... update status
  if (status === ResearchStatus.ACCEPTED) {
    await this.notificationsService.notifyResearchAccepted(...);
  } else if (status === ResearchStatus.REJECTED) {
    await this.notificationsService.notifyResearchRejected(...);
  } else if (status === ResearchStatus.PUBLISHED) {
    await this.notificationsService.notifyResearchPublished(...);
  } else if (status === ResearchStatus.NEEDS_REVISION) {
    await this.notificationsService.notifyRevisionRequested(...);
  }
}
```

**2. Reviewer Assignments Module** (`reviewer-assignments.service.ts`)
```typescript
// ุนูุฏ ุชุนููู ูุญูู
async create(createDto) {
  // ... save assignment
  await this.notificationsService.notifyReviewerAssigned(
    research.id,
    research.title,
    createDto.reviewer_id
  );
}
```

**3. Reviews Module** (`reviews.service.ts`)
```typescript
// ุนูุฏ ุฅุฑุณุงู ุชูููู
async create(createDto) {
  // ... save review
  await this.notificationsService.notifyReviewSubmitted(
    research.id,
    research.title,
    research.user_id
  );
}
```

**4. Research Revisions Module** (`research-revisions.service.ts`)
```typescript
// ุนูุฏ ุฅุฑุณุงู ุชุนุฏููุงุช
async submitRevision(id, file_url) {
  // ... update revision
  const reviewerIds = assignments.map(a => a.reviewer_id);
  await this.notificationsService.notifyRevisionSubmitted(
    research.id,
    research.title,
    reviewerIds
  );
}
```

---

### 2๏ธโฃ Frontend (React + TypeScript)

#### ุงููููุงุช ุงูุฑุฆูุณูุฉ:

**`notifications.service.ts`** - ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช ูู ุงููุฑููุช ุฅูุฏ
- โ `getAll()` - ุฌูุจ ุฌููุน ุงูุฅุดุนุงุฑุงุช
- โ `getUnreadCount()` - ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
- โ `markAsRead()` - ุชุนููู ุฅุดุนุงุฑ ูููุฑูุก
- โ `markAllAsRead()` - ุชุนููู ุงููู ูููุฑูุก
- โ `delete()` - ุญุฐู ุฅุดุนุงุฑ
- โ `deleteAllRead()` - ุญุฐู ุฌููุน ุงูููุฑูุกุฉ

**`NotificationsPage.tsx`** - ุตูุญุฉ ุนุฑุถ ุงูุฅุดุนุงุฑุงุช
- โ ุนุฑุถ ุฌููุน ุงูุฅุดุนุงุฑุงุช
- โ ููุชุฑุฉ (ุงููู / ุบูุฑ ููุฑูุกุฉ / ููุฑูุกุฉ)
- โ ุชุนููู ูููุฑูุก
- โ ุญุฐู ุฅุดุนุงุฑ
- โ ุญุฐู ุฌููุน ุงูููุฑูุกุฉ
- โ ุชุญุฏูุซ ุชููุงุฆู ููุนุฏุงุฏ

**`DashboardLayout.tsx`** - ุนุฑุถ ุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช ูู ุงูู Sidebar
- โ ุนุฑุถ ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
- โ ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุงูุชุบููุฑ

---

## ๐ ุฃููุงุน ุงูุฅุดุนุงุฑุงุช (NotificationType)

```typescript
export enum NotificationType {
  // Research Notifications
  RESEARCH_SUBMITTED = 'research_submitted',
  RESEARCH_ACCEPTED = 'research_accepted',
  RESEARCH_REJECTED = 'research_rejected',
  RESEARCH_PUBLISHED = 'research_published',
  
  // Review Notifications
  REVIEWER_ASSIGNED = 'reviewer_assigned',
  REVIEW_SUBMITTED = 'review_submitted',
  REVISION_REQUESTED = 'revision_requested',
  REVISION_SUBMITTED = 'revision_submitted',
  
  // User Notifications
  ACCOUNT_CREATED = 'account_created',
  ACCOUNT_APPROVED = 'account_approved',
  ACCOUNT_SUSPENDED = 'account_suspended',
  PASSWORD_CHANGED = 'password_changed',
  
  // System Notifications
  SYSTEM_ANNOUNCEMENT = 'system_announcement',
  SYSTEM_MAINTENANCE = 'system_maintenance',
  GENERAL = 'general',
}
```

---

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ุฅุฑุณุงู ุจุญุซ ุฌุฏูุฏ
1. ุงูุจุงุญุซ ูุฑุณู ุจุญุซ ุฌุฏูุฏ
2. ุงููุธุงู ูุญูุธ ุงูุจุญุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** ูุฌููุน ุงููุญุฑุฑูู ูุงูุฃุฏูู
4. ุงููุญุฑุฑูู ูุงูุฃุฏูู ูุฑูู ุงูุฅุดุนุงุฑ ูู ููุญุฉ ุงูุชุญูู

### ุณููุงุฑูู 2: ุชุนููู ูุญูู
1. ุงููุญุฑุฑ ูุนูู ูุญูู ููุจุญุซ
2. ุงููุธุงู ูุญูุธ ุงูุชุนููู
3. **ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** ูููุญูู ุงููุนูู
4. ุงููุญูู ูุฑู ุงูุฅุดุนุงุฑ ูููููู ุงูุฐูุงุจ ูุตูุญุฉ ุงูููุงู

### ุณููุงุฑูู 3: ุฅุฑุณุงู ุชูููู
1. ุงููุญูู ูุฑุณู ุชููููู ููุจุญุซ
2. ุงููุธุงู ูุญูุธ ุงูุชูููู
3. **ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** ููุจุงุญุซ ูุงููุญุฑุฑูู ูุงูุฃุฏูู
4. ุงูุฌููุน ูุฑูู ุงูุฅุดุนุงุฑ ููููููู ูุฑุงุฌุนุฉ ุงูุชูููู

### ุณููุงุฑูู 4: ุทูุจ ุชุนุฏููุงุช
1. ุงููุญุฑุฑ ูุบูุฑ ุญุงูุฉ ุงูุจุญุซ ุฅูู "ูุญุชุงุฌ ุชุนุฏููุงุช"
2. ุงููุธุงู ูุญุฏุซ ุญุงูุฉ ุงูุจุญุซ
3. **ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** ููุจุงุญุซ
4. ุงูุจุงุญุซ ูุฑู ุงูุฅุดุนุงุฑ ูููููู ุงูุจุฏุก ุจุงูุชุนุฏููุงุช

### ุณููุงุฑูู 5: ุฅุฑุณุงู ุชุนุฏููุงุช
1. ุงูุจุงุญุซ ูุฑุณู ุงููุณุฎุฉ ุงููุนุฏูุฉ
2. ุงููุธุงู ูุญูุธ ุงูุชุนุฏููุงุช
3. **ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** ูููุญูููู ูุงููุญุฑุฑูู ูุงูุฃุฏูู
4. ุงูุฌููุน ูุฑูู ุงูุฅุดุนุงุฑ ููููููู ูุฑุงุฌุนุฉ ุงููุณุฎุฉ ุงููุนุฏูุฉ

### ุณููุงุฑูู 6: ูุจูู ุจุญุซ
1. ุงููุญุฑุฑ ูุบูุฑ ุญุงูุฉ ุงูุจุญุซ ุฅูู "ููุจูู"
2. ุงููุธุงู ูุญุฏุซ ุญุงูุฉ ุงูุจุญุซ
3. **ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** ููุจุงุญุซ ูุน emoji ุงุญุชูุงูู ๐
4. ุงูุจุงุญุซ ูุฑู ุงูุฅุดุนุงุฑ ููุญุชูู ุจูุจูู ุจุญุซู

### ุณููุงุฑูู 7: ูุดุฑ ุจุญุซ
1. ุงููุญุฑุฑ ููุดุฑ ุงูุจุญุซ
2. ุงููุธุงู ูุญุฏุซ ุญุงูุฉ ุงูุจุญุซ ุฅูู "ููุดูุฑ"
3. **ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** ููุจุงุญุซ ูุน emoji ุงุญุชูุงูู ๐
4. ุงูุจุงุญุซ ูุฑู ุงูุฅุดุนุงุฑ ูููููู ูุดุงุฑูุฉ ุงูุจุญุซ ุงูููุดูุฑ

---

## ๐ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุตูุญุฉ ุงูุฅุดุนุงุฑุงุช
- **ุงูุนููุงู**: ุนุฑุถ ูุงุถุญ ูุนููุงู ุงูุฅุดุนุงุฑ
- **ุงูุฑุณุงูุฉ**: ุชูุงุตูู ุงูุฅุดุนุงุฑ
- **ุงูููุช**: ูุชู ุชู ุฅุฑุณุงู ุงูุฅุดุนุงุฑ
- **ุงูุญุงูุฉ**: ููุฑูุก / ุบูุฑ ููุฑูุก
- **ุงูููุน**: ููู ูุฎุชูู ุญุณุจ ููุน ุงูุฅุดุนุงุฑ
  - ๐ข ุฃุฎุถุฑ: ูุจููุ ููุงููุฉุ ูุดุฑ
  - ๐ด ุฃุญูุฑ: ุฑูุถุ ุฅููุงู
  - ๐ก ุฃุตูุฑ: ุชุฐููุฑุ ุชุนุฏููุงุช
  - ๐ต ุฃุฒุฑู: ูุนูููุงุช ุนุงูุฉ

### ุงูู Sidebar
- **ุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช**: ูุธูุฑ ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
- **ุชุญุฏูุซ ุชููุงุฆู**: ูุชุญุฏุซ ุงูุนุฏุงุฏ ุนูุฏ ูุฑุงุกุฉ ุฃู ุญุฐู ุฅุดุนุงุฑ

---

## โ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช:

1. **ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุจุญุซ**:
   ```bash
   # ูู ุจุชุณุฌูู ุงูุฏุฎูู ูุจุงุญุซ
   # ุฃุฑุณู ุจุญุซ ุฌุฏูุฏ
   # ุณุฌู ุงูุฏุฎูู ููุญุฑุฑ ุฃู ุฃุฏูู
   # ุชุญูู ูู ูุตูู ุงูุฅุดุนุงุฑ
   ```

2. **ุงุฎุชุจุงุฑ ุชุนููู ูุญูู**:
   ```bash
   # ูู ุจุชุณุฌูู ุงูุฏุฎูู ููุญุฑุฑ
   # ุนูู ูุญูู ูุจุญุซ
   # ุณุฌู ุงูุฏุฎูู ููุญูู
   # ุชุญูู ูู ูุตูู ุงูุฅุดุนุงุฑ
   ```

3. **ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุชูููู**:
   ```bash
   # ูู ุจุชุณุฌูู ุงูุฏุฎูู ููุญูู
   # ุฃุฑุณู ุชูููู
   # ุณุฌู ุงูุฏุฎูู ูุจุงุญุซ/ูุญุฑุฑ/ุฃุฏูู
   # ุชุญูู ูู ูุตูู ุงูุฅุดุนุงุฑ
   ```

4. **ุงุฎุชุจุงุฑ ุชุบููุฑ ุงูุญุงูุฉ**:
   ```bash
   # ูู ุจุชุณุฌูู ุงูุฏุฎูู ููุญุฑุฑ
   # ุบูุฑ ุญุงูุฉ ุงูุจุญุซ (ูุจูู/ุฑูุถ/ุชุนุฏููุงุช/ูุดุฑ)
   # ุณุฌู ุงูุฏุฎูู ูุจุงุญุซ
   # ุชุญูู ูู ูุตูู ุงูุฅุดุนุงุฑ ุงูููุงุณุจ
   ```

---

## ๐ ุงูุชุดุบูู

### Backend:
```bash
cd apps/backend
npm run start:dev
```

### Frontend:
```bash
cd apps/frontend
npm run dev
```

### ูุงุนุฏุฉ ุงูุจูุงูุงุช:
ุชุฃูุฏ ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู ูุฃู ุฌุฏูู `notifications` ููุฌูุฏ.

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุฌููุน ุฏูุงู ุงูุฅุดุนุงุฑุงุช ูุญุงุทุฉ ุจู try-catch ูุถูุงู ุนุฏู ูุดู ุงูุนูููุฉ ุงูุฃุณุงุณูุฉ ูู ุญุงูุฉ ูุดู ุฅุฑุณุงู ุงูุฅุดุนุงุฑ

2. **ุงูุฃุฏุงุก**: ุงูุฅุดุนุงุฑุงุช ูุชู ุฅุฑุณุงููุง ุจุดูู ุบูุฑ ูุชุฒุงูู (async) ูุนุฏู ุชุฃุฎูุฑ ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ

3. **ุงูุชูุณุน ุงููุณุชูุจูู**: ูููู ุฅุถุงูุฉ:
   - ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุฅุดุนุงุฑุงุช ุงูู Push Notifications
   - ุฅุดุนุงุฑุงุช SMS
   - WebSocket ููุฅุดุนุงุฑุงุช ุงูููุฑูุฉ

4. **ุงูุฃูุงู**: ูุชู ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู ูุจู ุนุฑุถ ุงูุฅุดุนุงุฑุงุช

---

## ๐ ุงูุฎูุงุตุฉ

โ **ูุธุงู ุงูุฅุดุนุงุฑุงุช ููุชูู ุจุงููุงูู**
- ุฌููุน ุงูุฃุญุฏุงุซ ุงูู 8 ุงููุทููุจุฉ ูุทุจูุฉ
- ุงูุชูุงูู ูุน ุฌููุน modules ุงูุจุญุซ ูุงููุฑุงุฌุนุงุช
- ูุงุฌูุฉ ูุณุชุฎุฏู ูุงููุฉ ูุฌูููุฉ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
- ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ

---

## ๐ ุงูุฏุนู

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงูู ุฃู ุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ูุฑุงุฌุนุฉ:
- `apps/backend/src/modules/notifications/`
- `apps/frontend/src/services/notifications.service.ts`
- `apps/frontend/src/pages/dashboard/NotificationsPage.tsx`
