# ุฏููู ุงุฎุชุจุงุฑ ูุธุงู ุงูุชุนุฏููุงุช

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### ุงููุชุทูุจุงุช ุงูุฃูููุฉ
1. ุชุฃูุฏ ูู ุชุดุบูู ุงูู backend: `npm run dev` ูู ูุฌูุฏ `apps/backend`
2. ุชุฃูุฏ ูู ุชุดุบูู ุงูู frontend: `npm run dev` ูู ูุฌูุฏ `apps/frontend`
3. ุชุฃูุฏ ูู ูุฌูุฏ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ ุณููุงุฑูู ุงูุงุฎุชุจุงุฑ ุงููุงูู

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุจุญุซ ุฌุฏูุฏ (ูุจุงุญุซ)
```
1. ุณุฌู ุฏุฎูู ูุจุงุญุซ
2. ุงุฐูุจ ุฅูู "ุชูุฏูู ุจุญุซ ุฌุฏูุฏ"
3. ุงููุฃ ุงูุจูุงูุงุช:
   - ุงูุนููุงู: "ุชุทุจููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุงูุชุนููู"
   - ุงูุชุฎุตุต: "ุชูููุฉ ุงููุนูููุงุช"
   - ุงูููุฎุต: "ุจุญุซ ูุชูุงูู..."
   - ุงุฑูุน ููู PDF
4. ุงุถุบุท "ุชูุฏูู ุงูุจุญุซ"
5. ุณุฌู ุฑูู ุงูุจุญุซ (ูุซูุงู: RES-2024-0001)
```

### ุงูุฎุทูุฉ 2: ุชุนููู ูุญูููู (ููุญุฑุฑ)
```
1. ุณุฌู ุฏุฎูู ููุญุฑุฑ
2. ุงุฐูุจ ุฅูู "ุฅุฏุงุฑุฉ ุงูุฃุจุญุงุซ"
3. ุงุจุญุซ ุนู ุงูุจุญุซ ุงูููุฏู
4. ุงุถุบุท "ุชุนููู ูุญูููู"
5. ุงุฎุชุฑ ูุญูููู (ุนูู ุงูุฃูู 2)
6. ุงุถุบุท "ุชุนููู"
```

### ุงูุฎุทูุฉ 3: ุงููุญูููู ูููููู ุงูุจุญุซ
```
1. ุณุฌู ุฏุฎูู ููุญูู ุฃูู
2. ุงุฐูุจ ุฅูู "ุทูุจุงุช ุงูุชุญููู"
3. ุงูุชุญ ุงูุจุญุซ
4. ุงููุฃ ูููุฐุฌ ุงูุชูููู:
   - ุงูุชูููู: 3.5/5
   - ุงูุชูุตูุฉ: "ูุญุชุงุฌ ุชุนุฏููุงุช"
   - ุงูููุงุญุธุงุช: "ูุฌุจ ุชุญุณูู ุงููููุฌูุฉ ูุฅุถุงูุฉ ูุฑุงุฌุน"
5. ุงุถุบุท "ุฅุฑุณุงู ุงูุชูููู"

6. ูุฑุฑ ููุณ ุงูุฎุทูุงุช ูููุญูู ุงูุซุงูู
```

### ุงูุฎุทูุฉ 4: ุงููุญุฑุฑ ูุทูุจ ุชุนุฏููุงุช โญ
```
1. ุณุฌู ุฏุฎูู ููุญุฑุฑ
2. ุงุฐูุจ ุฅูู "ุฅุฏุงุฑุฉ ุงูุฃุจุญุงุซ"
3. ุงุจุญุซ ุนู ุงูุจุญุซ (ุงูุญุงูุฉ: pending-editor-decision)
4. ุงุถุบุท "ุงุชุฎุงุฐ ุงููุฑุงุฑ"
5. ุฑุงุฌุน ุชููููุงุช ุงููุญูููู
6. ุงุถุบุท "ุงุชุฎุงุฐ ุงููุฑุงุฑ ุงูุขู"
7. ุงุฎุชุฑ "ูุชุทูุจ ุชุนุฏูู"
8. ุงูุชุจ ูู ููุงุญุธุงุช ุงููุญุฑุฑ:
   """
   ุจูุงุกู ุนูู ุชููููุงุช ุงููุญููููุ ูุฑุฌู ุฅุฌุฑุงุก ุงูุชุนุฏููุงุช ุงูุชุงููุฉ:
   
   1. ุชุญุณูู ุงููููุฌูุฉ ุงูุจุญุซูุฉ ูุชูุถูุญ ุฎุทูุงุช ุงูุฏุฑุงุณุฉ
   2. ุฅุถุงูุฉ ูุฑุงุฌุน ุญุฏูุซุฉ (ุขุฎุฑ 5 ุณููุงุช)
   3. ุชูุถูุญ ุงููุชุงุฆุฌ ุจุดูู ุฃูุถู ูุน ุฅุถุงูุฉ ุฌุฏุงูู
   4. ูุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก ุงููุบููุฉ
   
   ุงูููุนุฏ ุงูููุงุฆู: 30 ููู ูู ุชุงุฑูุฎ ุงูููู
   """
9. ุงุถุบุท "ุชุฃููุฏ ุงููุฑุงุฑ ุงูููุงุฆู"
```

**โ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
-- ูุฌุจ ุฃู ุชุฑู ุณุฌู ุฌุฏูุฏ ูู research_revisions
SELECT * FROM research_revisions 
WHERE research_id = 'xxx' 
ORDER BY created_at DESC LIMIT 1;

-- ูุฌุจ ุฃู ุชููู:
-- revision_number: 1
-- status: pending
-- revision_notes: "ุจูุงุกู ุนูู ุชููููุงุช ุงููุญูููู..."
-- deadline: ุชุงุฑูุฎ ุจุนุฏ 30 ููู

-- ุญุงูุฉ ุงูุจุญุซ ูุฌุจ ุฃู ุชููู needs-revision
SELECT status FROM research WHERE id = 'xxx';
```

### ุงูุฎุทูุฉ 5: ุงูุจุงุญุซ ูุนุฏู ุงูุจุญุซ โญโญโญ
```
1. ุณุฌู ุฏุฎูู ูุจุงุญุซ
2. ุงุฐูุจ ุฅูู "ุฃุจุญุงุซู"
3. ูุฌุจ ุฃู ุชุฑู ุงูุจุญุซ ุจุญุงูุฉ "ูุญุชุงุฌ ุชุนุฏููุงุช"
4. ุงุถุบุท ุนูู ุงูุจุญุซ ุฃู "ุชุนุฏูู"
5. ูุฌุจ ุฃู ุชุฑู:
   โ ุนููุงู ุงูุจุญุซ ุงูุฃุตูู
   โ ุฑูู ุงูุจุญุซ
   โ ุงูุชุฎุตุต
   โ ุชุงุฑูุฎ ุงูุชูุฏูู
   โ ุฑูู ุงููุฑุงุฌุนุฉ: #1
   โ ููุงุญุธุงุช ุงููุญูููู ุงููุงููุฉ
   โ ููุงุญุธุงุช ุงููุญุฑุฑ (ุงูุชุนุฏููุงุช ุงููุทููุจุฉ)
   
6. ูู ูุณู "ููุงุญุธุงุช ุงูุจุงุญุซ" ุงูุชุจ:
   """
   ุชู ุฅุฌุฑุงุก ุงูุชุนุฏููุงุช ุงูุชุงููุฉ:
   
   1. โ ุชู ุชุญุณูู ุงููููุฌูุฉ ูุฅุถุงูุฉ ุฎุทูุงุช ุชูุตูููุฉ
   2. โ ุชู ุฅุถุงูุฉ 15 ูุฑุฌุน ุญุฏูุซ (2020-2024)
   3. โ ุชู ุฅุถุงูุฉ 3 ุฌุฏุงูู ุชูุถูุญูุฉ ูููุชุงุฆุฌ
   4. โ ุชู ูุฑุงุฌุนุฉ ุงููุต ูุบููุงู
   """
   
7. ุงุฑูุน ููู PDF ุฌุฏูุฏ (ุงููุณุฎุฉ ุงููุนุฏูุฉ)
8. ุงุถุบุท "ุฅุฑุณุงู ุงููุณุฎุฉ ุงููุนุฏูุฉ"
9. ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ
```

**โ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
-- ุณุฌู ุงูุชุนุฏูู ูุฌุจ ุฃู ูููู submitted
SELECT status, file_url, submitted_at 
FROM research_revisions 
WHERE research_id = 'xxx';
-- status: submitted
-- file_url: ุฑุงุจุท ุงูููู ุงูุฌุฏูุฏ
-- submitted_at: ุงูููุช ุงูุญุงูู

-- ุฑุงุจุท ุงูููู ูู ุฌุฏูู research ูุฌุจ ุฃู ูุชุญุฏุซ
SELECT file_url, status FROM research WHERE id = 'xxx';
-- file_url: ููุณ ุงูุฑุงุจุท ุงูุฌุฏูุฏ
-- status: under-review

-- ุญุงูุฉ ุงููุฑุงุฌุนุงุช ูุฌุจ ุฃู ุชุนูุฏ pending
SELECT id, status FROM reviews WHERE research_id = 'xxx';
-- ุฌููุน ุงููุฑุงุฌุนุงุช: status = pending

-- ุญุงูุฉ ุงูุชุนูููุงุช ูุฌุจ ุฃู ุชุนูุฏ accepted
SELECT id, status FROM reviewer_assignments WHERE research_id = 'xxx';
-- ุฌููุน ุงูุชุนูููุงุช: status = accepted
```

### ุงูุฎุทูุฉ 6: ุงููุญูููู ูุฑุงุฌุนูู ุงููุณุฎุฉ ุงููุนุฏูุฉ
```
1. ุณุฌู ุฏุฎูู ููุญูู
2. ุงุฐูุจ ุฅูู "ุทูุจุงุช ุงูุชุญููู"
3. ูุฌุจ ุฃู ุชุฑู ุงูุจุญุซ ูุฑุฉ ุฃุฎุฑู
4. ุงูุชุญ ุงูุจุญุซ (ูุฌุจ ุฃู ูููู ุงูููู ุงูุฌุฏูุฏ)
5. ููู ุงููุณุฎุฉ ุงููุนุฏูุฉ
6. ุงุถุบุท "ุฅุฑุณุงู ุงูุชูููู"
```

### ุงูุฎุทูุฉ 7: ุงููุญุฑุฑ ูุชุฎุฐ ุงููุฑุงุฑ ุงูููุงุฆู
```
1. ุจุนุฏ ุงูุชูุงู ุชููููุงุช ุงููุญูููู
2. ุงููุญุฑุฑ ูุฑุงุฌุน ุงูุชููููุงุช ุงูุฌุฏูุฏุฉ
3. ูุชุฎุฐ ุงููุฑุงุฑ ุงูููุงุฆู (ูุจูู/ุฑูุถ/ุชุนุฏูู ูุฑุฉ ุฃุฎุฑู)
```

---

## ๐ ููุงุท ุงูุชุญูู ุงูุฑุฆูุณูุฉ

### โ ูู ุตูุญุฉ ReviseResearchPage

**ูุฌุจ ุฃู ุชุฑู:**
- [ ] ุนููุงู ุงูุจุญุซ ุงูุฃุตูู ูู ุงูุฃุนูู
- [ ] ุจุงูุฑ ุฃุตูุฑ ููุถุญ ุฃู ุงูุจุญุซ ูุญุชุงุฌ ุชุนุฏููุงุช
- [ ] ูุณู "ููุงุญุธุงุช ุงููุญูููู" ูุน ุฌููุน ุงูุชููููุงุช
- [ ] ุงุณู ูู ูุญูู ูุชููููู
- [ ] ุชูุตูุฉ ูู ูุญูู (ูุจูู/ุฑูุถ/ุชุนุฏูู)
- [ ] ููุงุญุธุงุช ูู ูุญูู
- [ ] ูุณู "ุฑูุน ุงููุณุฎุฉ ุงููุนุฏูุฉ"
- [ ] ุญูู "ููุงุญุธุงุช ุงูุจุงุญุซ" (ูุทููุจ)
- [ ] ููุทูุฉ ุฑูุน ููู PDF (ูุทููุจ)
- [ ] ูุณู "ูุนูููุงุช ุงูุจุญุซ ุงูุฃุตูู" ูุญุชูู ุนูู:
  - ุฑูู ุงูุจุญุซ
  - ุงูุนููุงู
  - ุงูุชุฎุตุต
  - ุชุงุฑูุฎ ุงูุชูุฏูู
  - ุฑูู ุงููุฑุงุฌุนุฉ (#1)

**ูุฌุจ ุฃูุง ุชุฑู:**
- [ ] ุญููู ูุชุนุฏูู ุงูุนููุงู ุฃู ุงูุชุฎุตุต (ุงูุจูุงูุงุช ุงูุฃุตููุฉ ุซุงุจุชุฉ)
- [ ] ุฃุฎุทุงุก ูู ุงูุชุญููู
- [ ] ุจูุงูุงุช ูุงุฑุบุฉ

### โ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุฌุฏูู research_revisions:**
```sql
-- ุนูุฏ ุฅูุดุงุก ุทูุจ ุงูุชุนุฏูู
revision_number: 1
status: 'pending'
revision_notes: 'ููุงุญุธุงุช ุงููุญุฑุฑ'
file_url: null
deadline: ุชุงุฑูุฎ ูุณุชูุจูู
submitted_at: null

-- ุจุนุฏ ุฅุฑุณุงู ุงูุชุนุฏูู
status: 'submitted'
file_url: 'ุฑุงุจุท ุงูููู ุงูุฌุฏูุฏ'
submitted_at: ุงูููุช ุงูุญุงูู
```

**ุฌุฏูู research:**
```sql
-- ุจุนุฏ ุฅุฑุณุงู ุงูุชุนุฏูู
file_url: 'ุฑุงุจุท ุงูููู ุงูุฌุฏูุฏ' (ูุญุฏุซ)
status: 'under-review' (ูุญุฏุซ)
updated_at: ุงูููุช ุงูุญุงูู (ูุญุฏุซ ุชููุงุฆูุงู)
```

**ุฌุฏูู reviews:**
```sql
-- ุฌููุน ุงููุฑุงุฌุนุงุช ุงูููุชููุฉ ุชุนูุฏ pending
status: 'pending'
```

**ุฌุฏูู reviewer_assignments:**
```sql
-- ุฌููุน ุงูุชุนูููุงุช ุงูููุชููุฉ ุชุนูุฏ accepted
status: 'accepted'
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุจูุงูุงุช ุงูุจุญุซ
**ุงูุญู:**
1. ุชุญูู ูู console ูู ุงููุชุตูุญ
2. ุชุญูู ูู ุฃู ุงูุจุญุซ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญูู ูู ุฃู ุงูู API ูุนูู: `GET /research/:id`

### ุงููุดููุฉ: ูุง ุชุธูุฑ ููุงุญุธุงุช ุงููุญูููู
**ุงูุญู:**
1. ุชุญูู ูู ูุฌูุฏ reviews ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุญูู ูู ุฃู status = 'completed'
3. ุชุญูู ูู ุงูู API: `GET /reviews?research_id=xxx`

### ุงููุดููุฉ: ุฎุทุฃ ุนูุฏ ุฅุฑุณุงู ุงูุชุนุฏูู
**ุงูุญู:**
1. ุชุญูู ูู console ูู ุงููุชุตูุญ
2. ุชุญูู ูู ุฃู ุฌููุน ุงูุญููู ููููุกุฉ
3. ุชุญูู ูู ุฃู ุงูููู PDF ุตุญูุญ
4. ุชุญูู ูู logs ุงูู backend

### ุงููุดููุฉ: ูุง ูุชู ุชุญุฏูุซ file_url
**ุงูุญู:**
1. ุชุญูู ูู ุฃู endpoint `/research/:id` ูุนูู
2. ุชุญูู ูู ุฃู ุงูู DTO ูุณูุญ ุจุชุญุฏูุซ file_url
3. ุฑุงุฌุน ุงูููุฏ ูู `handleSubmit` ูู ReviseResearchPage

---

## ๐ ุงุณุชุนูุงูุงุช SQL ูููุฏุฉ

### ุนุฑุถ ุฌููุน ุงูุชุนุฏููุงุช ูุจุญุซ ูุนูู
```sql
SELECT 
  rr.revision_number,
  rr.status,
  rr.revision_notes,
  rr.file_url,
  rr.deadline,
  rr.submitted_at,
  rr.created_at
FROM research_revisions rr
WHERE rr.research_id = 'xxx'
ORDER BY rr.revision_number DESC;
```

### ุนุฑุถ ุญุงูุฉ ุงูุจุญุซ ูุน ุขุฎุฑ ุชุนุฏูู
```sql
SELECT 
  r.research_number,
  r.title,
  r.status as research_status,
  r.file_url as current_file,
  rr.revision_number,
  rr.status as revision_status,
  rr.submitted_at
FROM research r
LEFT JOIN research_revisions rr ON r.id = rr.research_id
WHERE r.id = 'xxx'
ORDER BY rr.revision_number DESC
LIMIT 1;
```

### ุนุฑุถ ุฌููุน ุงููุฑุงุฌุนุงุช ูุน ุญุงูุชูุง
```sql
SELECT 
  rv.id,
  rv.status,
  rv.general_comments,
  rv.recommendation,
  u.name as reviewer_name
FROM reviews rv
JOIN users u ON rv.reviewer_id = u.id
WHERE rv.research_id = 'xxx';
```

### ุนุฑุถ ุชุงุฑูุฎ ุงูุจุญุซ ุงููุงูู
```sql
-- ุงูุจุญุซ ุงูุฃุตูู
SELECT 'Research Created' as event, created_at as date FROM research WHERE id = 'xxx'
UNION ALL
-- ุงูุชุนุฏููุงุช
SELECT CONCAT('Revision #', revision_number, ' - ', status), created_at FROM research_revisions WHERE research_id = 'xxx'
UNION ALL
-- ุงููุฑุงุฌุนุงุช
SELECT CONCAT('Review by ', reviewer_id, ' - ', status), created_at FROM reviews WHERE research_id = 'xxx'
ORDER BY date;
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

ูุจู ุงุนุชุจุงุฑ ุงููุธุงู ุฌุงูุฒุ ุชุฃูุฏ ูู:

### Frontend
- [ ] ุตูุญุฉ ReviseResearchPage ุชุญูู ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
- [ ] ุชุธูุฑ ุฌููุน ููุงุญุธุงุช ุงููุญูููู
- [ ] ูููู ุฑูุน ููู PDF ุฌุฏูุฏ
- [ ] ูููู ูุชุงุจุฉ ููุงุญุธุงุช ุงูุจุงุญุซ
- [ ] ูุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ
- [ ] ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ
- [ ] ูุชู ุงูุชูุฌูู ุฅูู ุตูุญุฉ "ุฃุจุญุงุซู"

### Backend
- [ ] endpoint `POST /research-revisions` ูุนูู
- [ ] endpoint `GET /research-revisions?research_id=xxx` ูุนูู
- [ ] endpoint `PUT /research-revisions/:id/submit` ูุนูู
- [ ] endpoint `PATCH /research/:id` ูุนูู
- [ ] endpoint `PATCH /research/:id/status` ูุนูู
- [ ] endpoint `PATCH /reviews/:id/status` ูุนูู
- [ ] endpoint `PATCH /reviewer-assignments/:id/status` ูุนูู

### Database
- [ ] ูุชู ุฅูุดุงุก ุณุฌู ูู research_revisions
- [ ] revision_number ูุฒูุฏ ุชููุงุฆูุงู
- [ ] ูุชู ุชุญุฏูุซ file_url ูู research
- [ ] ูุชู ุชุญุฏูุซ status ูู research
- [ ] ูุชู ุฅุนุงุฏุฉ ุชุนููู reviews ุฅูู pending
- [ ] ูุชู ุฅุนุงุฏุฉ ุชุนููู assignments ุฅูู accepted

---

## ๐ ุงููุฌุงุญ!

ุฅุฐุง ูุฌุญุช ุฌููุน ุงูุฎุทูุงุช ุฃุนูุงูุ ูุฅู ูุธุงู ุงูุชุนุฏููุงุช ูุนูู ุจุดูู ุตุญูุญ! ๐

ุงูุจุงุญุซ ุงูุขู ููููู:
- โ ุฑุคูุฉ ุจูุงูุงุช ุจุญุซู ุงูุฃุตููุฉ
- โ ูุฑุงุกุฉ ููุงุญุธุงุช ุงููุญูููู
- โ ุฑูุน ูุณุฎุฉ ูุนุฏูุฉ
- โ ุชุชุจุน ุฑูู ุงููุฑุงุฌุนุฉ
- โ ุฅุฑุณุงู ุงูุชุนุฏูู ูููุฑุงุฌุนุฉ ูุฑุฉ ุฃุฎุฑู
